<app-spinner></app-spinner>

<div *ngIf="storeData.store['wallet'] as walletData" class="single-page-area">
        <div class="title-area">
            <a (click)="window.history.back()" class="btn back-page-btn"><i class="ri-arrow-left-s-line"></i></a>
            <h3>Bet slip</h3>
            <div translate="no" class="balance">
              {{walletData['init_currency']['symbol']}}{{currencyConverter(walletData['balance']['new'])|number:"1.2-2"}}
              <!-- <span><img src="assets/img/icon/dollar-sign.png" alt="img"></span> -->
            </div>
        </div>


        <div *ngIf="fixture" class="container">
            <div class="single-product-wrap">
                <h6 class="title">{{fixture.fixture.league.name}}</h6>
                <div class="details">
                    <div class="thumb"><img src="{{fixture.fixture.teams.home.logo}}" alt="img"><h6 class="team-name">{{fixture.fixture.teams.home.name}}</h6></div>
                    <div class="betting-wrap">
                        <h2></h2>
                        <div class="time">
                            <i class="fa fa-circle"></i>
                            {{setTime(fixture.fixture.fixture.timestamp)}}
                        </div>
                        <!-- <a [routerLink]="['/betslip',fixture.fixture.fixture.fixture.id]" class="btn btn-base">Bet Now</a> -->
                    </div>
                    <div class="thumb"><img src="{{fixture.fixture.teams.away.logo}}" alt="img"><h6 class="team-name">{{fixture.fixture.teams.away.name}}</h6></div>
                </div>
                <!-- <div class="betting-type">
                    <ul>
                        <li><button class="betting-btn">1 X 3.5</button>Draw</li>
                        <li><button class="betting-btn">1 X 3.5</button>Fc Goa</li>
                        <li><button class="betting-btn">1 X 3.5</button>Chennaiyin FC</li>
                    </ul>
                </div> -->
                <div class="betting-meta">
                    <!-- <ul>
                        <li><i class="ri-eye-line"></i>200</li>
                        <li><a href="comment.html"><i class="far fa-comment-dots"></i>27</a></li>
                        <li><a href="betting-participater.html">80<img src="assets/img/icon/betting-participater.png" alt="img"></a></li>
                    </ul> -->
                </div>
            </div>
            <div class="container py-4">
              <h6 class="mt-4">Select Score</h6>

              <div id="PredictionBoard">
                  <div *ngIf="divControlers.showPredictionBoard" class="table-responsive" >
                    <table class="table table-bordered text-center">
                      <thead class="thead-light">
                        <!-- <tr>
                          <th>Vaalerenga IF</th>
                          <th>Draw</th>
                          <th>FK Haugesund</th>
                        </tr> -->
                      </thead>
                      <tbody class="predictionRows">
                        <tr *ngFor="let row of predictionRows;let i = index" >
                        <!-- (click)="onRowClick(row,i)" (mouseenter)="onRowClick(row, i)"> -->
                          <td  (click)="onCellClick(row[0])" *ngIf="row[0]">
                            <div class="score-box">
                              <div class="score">‚öΩÔ∏è{{ row[0].value }}</div>
                              <div class="odds">{{ row[0].odds }}üíπ</div>
                            </div>
                          </td>
                          <td (click)="onCellClick(row[1])" *ngIf="row[1]">
                            <div class="score-box">
                              <div class="score">‚öΩÔ∏è{{ row[1].value }}</div>
                              <div class="odds">{{ row[1].odds }}üíπ</div>
                            </div>
                          </td>
                          <td (click)="onCellClick(row[2])" *ngIf="row[2]">
                            <div class="score-box">
                              <div class="score">‚öΩÔ∏è{{ row[2].value }}</div>
                              <div class="odds">{{ row[2].odds }}üíπ</div>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div *ngIf="!divControlers.showPredictionBoard" class="text-center mt-3">
                    <button style='background:#fff' (click)="toggleDiv('showPredictionBoard')" class="btn btn-outline-dark btn-sm">Show Score ‚ñº</button>
                  </div>
                </div>
            </div>

            <div  *ngIf="!divControlers.showPredictionBoard" class="slip-info">
              <div class="bet-slip-card">
                  <h6 class="title">{{fixture.fixture.league.name}}</h6>
                  <ul class="bet-result">
                      <li>‚öΩÔ∏èScore: <span>{{selectedScore.value}}</span></li>
                      <li>‚ôªÔ∏èProfit: <span>{{selectedScore.odds}}</span></li>
                      <li>üíπTotal Return: <span translate="no" class="total-return">{{walletData['init_currency']['symbol']}}<span>{{totalProfit|number}}</span></span></li>
                  </ul>
                  <!-- <button><i class="ri-close-line"></i></button> -->
              </div>
                <div class="amount-wrap">
                  <div class="title-wrap">
                      <h6>Amount To Play</h6>
                      <span translate="no">{{walletData['init_currency']['symbol']}}{{currencyConverter(storeData.store['bet_settings']?.minimum)|number}} - {{currencyConverter(storeData.store['bet_settings']?.maximum)|number}} </span>
                  </div>


                  <div class="d-flex single-input-wrap">
                    <input
                      translate="no"
                      (keyup)="setBetAmount($event)"
                      type="digit"
                      class="form-control"
                      placeholder="{{walletData['init_currency']['symbol']}} {{storeData.store['bet_settings']?.minimum}}"
                      [(ngModel)]="stakeAmount">
                     <button (click)="stakeAll()" class="btn btn-outline-primary me-2" >ALL</button>
                    </div>



                  <!-- <div class="single-input-wrap">
                      <input
                        translate="no"
                        (keyup)="setBetAmount($event)"
                        type="number"
                        class="form-control"
                        placeholder="{{walletData['base']['symbol']}} {{storeData.store['bet_settings']?.minimum}}"
                        [(ngModel)]="stakeAmount">


                  </div>

                  <div (click)="stakeAll()" class="stake-all mt-3">
                    <button type="button" class="btn-c btn-outline-primary mr-1 mb-2">ALL</button>
                  </div> -->

                  <!-- <div class="input-wrap">
                      <input type="text" class="form-control" placeholder="Amount">
                      <button  type="button" class="btn-clipboard"><svg class="svg-inline--fa fa-clone fa-w-16" aria-hidden="true" focusable="false" data-prefix="far" data-icon="clone" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M464 0H144c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h320c26.51 0 48-21.49 48-48v-48h48c26.51 0 48-21.49 48-48V48c0-26.51-21.49-48-48-48zM362 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h42v224c0 26.51 21.49 48 48 48h224v42a6 6 0 0 1-6 6zm96-96H150a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h308a6 6 0 0 1 6 6v308a6 6 0 0 1-6 6z"></path></svg><!-- <i class="far fa-clone"></i> Font Awesome fontawesome.com </button>
                  </div> -->

                  <div class="mt-3">
                    <button appButtonLoader (click)="slipHandler('place_bet')" *ngIf="stakeAmount>=storeData.store['bet_settings']?.minimum" class="btn btn-base w-100" >Trade Now</button>
                  </div>

                  <div class="mt-3">
                    <button appButtonLoader (click)="slipHandler('book_bet')" *ngIf="storeData.store['is_teacher']" class="btn btn-secondary w-100" >Book Trade</button>
                  </div>

              </div>
              <!-- <div class="text-center mt-4">
                  <p>Maximum 2000.00 USD Predict in this option</p>
                  <p>If you win (Return Amount 3.00 USD) %Charge
                      Apply From This Amount </p>
              </div> -->
            </div>
            <div id="betInfo" >

            </div>

        </div>

</div>

<!-- copy booking link modal -->
<div class="modal fade" id="bookingLinkmodal" tabindex="-1" aria-labelledby="bookingLinkmodalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content shadow-lg border-0">
      <div class="modal-header border-0">
        <h5 class="modal-title fw-bold" id="bookingLinkmodalLabel">Game Link</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">


        <div class="invite-wrap">

          <p>Copy game link</p>

          <div class="input-wrap">
              <input type="text" class="form-control" placeholder="{{booking_link}}">
              <button (click)="copyContent(toast,booking_link,'Link copied')"  type="button" class="btn-clipboard"><svg class="svg-inline--fa fa-clone fa-w-16" aria-hidden="true" focusable="false" data-prefix="far" data-icon="clone" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M464 0H144c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h320c26.51 0 48-21.49 48-48v-48h48c26.51 0 48-21.49 48-48V48c0-26.51-21.49-48-48-48zM362 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h42v224c0 26.51 21.49 48 48 48h224v42a6 6 0 0 1-6 6zm96-96H150a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h308a6 6 0 0 1 6 6v308a6 6 0 0 1-6 6z"></path></svg><!-- <i class="far fa-clone"></i> Font Awesome fontawesome.com --></button>
          </div>

        </div>
      </div>
      <!-- <div class="modal-footer border-0">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
      </div> -->
    </div>
  </div>
</div>
