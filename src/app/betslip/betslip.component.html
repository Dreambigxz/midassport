<app-spinner></app-spinner>

<div *ngIf="storeData.store['wallet'] as walletData" class="single-page-area">
        <div class="title-area">
            <a (click)="window.history.back()" class="btn back-page-btn"><i class="ri-arrow-left-s-line"></i></a>
            <h3>Bet slip</h3>
            <div translate="no" class="balance">
              {{walletData['base']['symbol']}}{{walletData['balance']['new']|number:"1.2-2"}}
              <span><img src="assets/img/icon/dollar-sign.png" alt="img"></span></div>
        </div>


        <div *ngIf="fixture" class="container">
            <div class="single-product-wrap">
                <h6 class="title">{{fixture.league.name}}</h6>
                <div class="details">
                    <div class="thumb"><img src="{{fixture.teams.home.logo}}" alt="img"><h6 class="team-name">{{fixture.teams.home.name}}</h6></div>
                    <div class="betting-wrap">
                        <h2></h2>
                        <div class="time">
                            <i class="fa fa-circle"></i>
                            {{setTime(fixture.fixture.timestamp)}}
                        </div>
                        <!-- <a [routerLink]="['/betslip',fixture.fixture.id]" class="btn btn-base">Bet Now</a> -->
                    </div>
                    <div class="thumb"><img src="{{fixture.teams.away.logo}}" alt="img"><h6 class="team-name">{{fixture.teams.away.name}}</h6></div>
                </div>
                <!-- <div class="betting-type">
                    <ul>
                        <li><button class="betting-btn">1 X 3.5</button>Draw</li>
                        <li><button class="betting-btn">1 X 3.5</button>Fc Goa</li>
                        <li><button class="betting-btn">1 X 3.5</button>Chennaiyin FC</li>
                    </ul>
                </div> -->
                <div class="betting-meta">
                    <!-- <ul>
                        <li><i class="ri-eye-line"></i>200</li>
                        <li><a href="comment.html"><i class="far fa-comment-dots"></i>27</a></li>
                        <li><a href="betting-participater.html">80<img src="assets/img/icon/betting-participater.png" alt="img"></a></li>
                    </ul> -->
                </div>
            </div>
            <div class="container py-4">
              <h6 class="mt-4">Select Score</h6>

              <div id="PredictionBoard">
                  <div *ngIf="divControlers.showPredictionBoard" class="table-responsive" >
                    <table class="table table-bordered text-center">
                      <thead class="thead-light">
                        <!-- <tr>
                          <th>Vaalerenga IF</th>
                          <th>Draw</th>
                          <th>FK Haugesund</th>
                        </tr> -->
                      </thead>
                      <tbody>
                        <tr *ngFor="let row of predictionRows;let i = index" >
                        <!-- (click)="onRowClick(row,i)" (mouseenter)="onRowClick(row, i)"> -->
                          <td  (click)="onCellClick(row[0])" *ngIf="row[0]">
                            <div class="score-box">
                              <div>‚öΩÔ∏è{{ row[0].value }}</div>
                              <div class="odds">‚ôªÔ∏è{{ row[0].odds }}</div>
                            </div>
                          </td>
                          <td (click)="onCellClick(row[1])" *ngIf="row[1]">
                            <div class="score-box">
                              <div>‚öΩÔ∏è{{ row[1].value }}</div>
                              <div class="odds">‚ôªÔ∏è{{ row[1].odds }}</div>
                            </div>
                          </td>
                          <td (click)="onCellClick(row[2])" *ngIf="row[2]">
                            <div class="score-box">
                              <div>‚öΩÔ∏è{{ row[2].value }}</div>
                              <div class="odds">‚ôªÔ∏è{{ row[2].odds }}</div>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div *ngIf="!divControlers.showPredictionBoard" class="text-center mt-3">
                    <button style='background:#fff' (click)="toggleDiv('showPredictionBoard')" class="btn btn-outline-dark btn-sm">Show Score ‚ñº</button>
                  </div>
                </div>
            </div>

            <div  *ngIf="!divControlers.showPredictionBoard" class="slip-info">
              <div class="bet-slip-card">
                  <h6 class="title">{{fixture.league.name}}</h6>
                  <ul class="bet-result">
                      <li>‚öΩÔ∏èScore: <span>{{selectedScore.value}}</span></li>
                      <li>‚ôªÔ∏èProfit: <span>{{selectedScore.odds}}</span></li>
                      <li>üíπTotal Return: <span class="total-return">{{walletData['base']['symbol']}}<span>{{totalProfit|number}}</span></span></li>
                  </ul>
                  <!-- <button><i class="ri-close-line"></i></button> -->
              </div>
                <div class="amount-wrap">
                  <div class="title-wrap">
                      <h6>Amount To Play</h6>
                      <span>{{walletData['base']['symbol']}}{{storeData.store['bet_settings']?.minimum}} - {{storeData.store['bet_settings']?.maximum|number}} </span>
                  </div>
                  <div class="single-input-wrap">
                      <input (keyup)="setBetAmount($event)" type="number" class="form-control" placeholder="{{walletData['base']['symbol']}} {{storeData.store['bet_settings']?.minimum}}">
                  </div>
                  <div class="mt-3">
                    <button appButtonLoader (click)="slipHandler('place_bet')" *ngIf="stakeAmount>=storeData.store['bet_settings']?.minimum" class="btn btn-base w-100" >Trade Now</button>
                  </div>

                  <div class="mt-3">
                    <button appButtonLoader (click)="slipHandler('book_bet')" *ngIf="storeData.store['is_teacher']" class="btn btn-secondary w-100" >Book Trade</button>
                  </div>

              </div>
              <!-- <div class="text-center mt-4">
                  <p>Maximum 2000.00 USD Predict in this option</p>
                  <p>If you win (Return Amount 3.00 USD) %Charge
                      Apply From This Amount </p>
              </div> -->
            </div>
            <div id="betInfo" >

            </div>

        </div>

</div>
