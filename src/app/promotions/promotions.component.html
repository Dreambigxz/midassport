<app-spinner></app-spinner>

<div class="single-page-area">

  <div class="title-area">
      <a (click)="window.history.back()" class="btn back-page-btn"><i class="ri-arrow-left-s-line"></i></a>
      <h3>Promotions</h3>
      <div translate="no" *ngIf="storeData.store['wallet'] as walletData" class="balance">
        {{walletData['init_currency']['symbol']}}{{currencyConverter(walletData['balance']['new'])|number:'1.1-1'}}
        <!-- <span><img src="assets/img/icon/dollar-sign.png" alt="img"></span> -->
      </div>
  </div>

  <div *ngIf="storeData.store['refDir'] as ref" class="">
    <div class="container">
      <div class="invite-wrap">
        <div class="icon">
            <svg class="svg-inline--fa fa-users fa-w-20" aria-hidden="true" focusable="false" data-prefix="fa" data-icon="users" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" data-fa-i2svg=""><path fill="currentColor" d="M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"></path></svg>
            <!-- <i class="fa fa-users"></i> Font Awesome fontawesome.com -->
        </div>
        <h4>Refer a friend</h4>
        <p>Share your code with friends. When they
            use it for the first Sign in, you  earn {{ref.settings.percent.referral[0]}}% deposit commisson</p>
        <div class="input-wrap">
            <input type="text" class="form-control" placeholder="{{refLink}}">
            <button (click)='copyRefCode()' type="button" class="btn-clipboard"><svg class="svg-inline--fa fa-clone fa-w-16" aria-hidden="true" focusable="false" data-prefix="far" data-icon="clone" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M464 0H144c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h320c26.51 0 48-21.49 48-48v-48h48c26.51 0 48-21.49 48-48V48c0-26.51-21.49-48-48-48zM362 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h42v224c0 26.51 21.49 48 48 48h224v42a6 6 0 0 1-6 6zm96-96H150a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h308a6 6 0 0 1 6 6v308a6 6 0 0 1-6 6z"></path></svg><!-- <i class="far fa-clone"></i> Font Awesome fontawesome.com --></button>
        </div>

      </div>
    </div>

    <div class="container">
      <div class="item mt-4">
          <div class="single-blog-card">
              <!-- <div class="card-img"><img src="assets/img/blog/1.png" alt="img"></div> -->
              <div class="card-details">
                  <div class="date secure"> ♻️ INCOME </div>
                  <!-- <a class="card-title" href="blog-details.html">The Best MMA Bets of the Week</a> -->
                  <div *ngIf="storeData.store['wallet'] as walletData"  class="blog-meta">
                    <h4><span class="amount">
                      {{walletData['init_currency']['symbol']}}{{(currencyConverter(ref.referral?.total_earning) || 0) + (ref.rebate?.total_earning || 0)| number:'1.4-4'}}</span></h4>
                    <!-- <span class="title">Inactive Surbodinate</span>:<span class="amount">0</span> -->
                  </div>
              </div>
          </div>
      </div>

      <div class="wallet-btn-wrap btn-wrap mt-4">
          <a class="btn btn-base" routerLink="/invite-rewards">Invite Rewards</a>
          <!-- <a class="btn btn-border" routerLink="/wallet/withdraw">Withdraw</a> -->
      </div>
    </div>


    <div class="container">
      <div class="ba-all-page-inner mb-4">
          <ul>
              <li><a (click)="navigate('/promotions pending')">Inactive Surbodinate <span class="bg-btn bg-danger text-white">{{ref.total.generation_1-ref.active.generation_1}}</span></a></li>
          </ul>
      </div>
    </div>


    <div class="container levels">
      <div class="col-xl-6">
          <!-- Tabs Dropdown -->
          <div class="widget-header">
              <!-- <h4>Statistics</h4> -->
          </div>
          <div class="widget has-shadow">
              <div class="widget-body">
                  <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                      <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">Level 1</button>
                    </li>
                    <li class="nav-item" role="presentation">
                      <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="false">Level 2</button>
                    </li>
                    <li class="nav-item" role="presentation">
                      <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-contact" type="button" role="tab" aria-controls="pills-contact" aria-selected="false">Level 3</button>
                    </li>
                  </ul>
                  <div *ngIf="storeData.store['wallet'] as walletData" class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                        <span class="text-warning text-center">You earn {{ref.settings.percent.referral[0]}}% referral Commisson from members under level 1 and a {{ref.settings.percent.rebate[0]}}% Continues rebate bonus.</span>

                        <div  class="ba-all-page-inner mb-4">
                            <ul>
                                <li><a >Total Users <span class="bg-btn">{{ref.total.generation_1}}</span></a></li>
                                <li><a >Active  <span class="bg-btn">{{ref.active.generation_1}}</span></a></li>
                                <li><a >Rebate Commisson <span class="text">{{walletData['init_currency']['symbol']}}{{currencyConverter(ref.rebate.generation_1.amount)|number:(ref.rebate.generation_1.amount < 0.01  && ref.rebate.generation_1.amount !==0 ? '1.4-4' : '1.2-2')}}</span></a></li>
                                <li><a >Refferral Commisson <span class="text">{{walletData['init_currency']['symbol']}}{{currencyConverter(ref.referral.generation_1.amount)|number:'1.2-2'}}</span></a></li>
                                <li><a >Deposited <span class="text">{{walletData['init_currency']['symbol']}}{{currencyConverter(ref.deposit.generation_1.amount)|number:'1.2-2'}}</span></a></li>
                                <li><a >withdrawn <span class="text">{{walletData['init_currency']['symbol']}}{{currencyConverter(ref.withdraw.generation_1.amount)|number:'1.2-2'}}</span></a></li>
                            </ul>
                            <span (click)="navigate('/promotions 1')" class="btn btn-outline-dark btn-sm text-primary">Show users <i class="fa fa-users"></i></span>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
                      <span class="text-warning text-center">You earn {{ref.settings.percent.rebate[1]}}% rebate bonus from members under level 2 (x6).</span>

                      <div class="ba-all-page-inner mb-4">
                          <ul>
                              <li><a >Total Users <span class="bg-btn">{{ref.total.generation_2}}</span></a></li>
                              <li><a >Active  <span class="bg-btn">{{ref.active.generation_2}}</span></a></li>
                              <li><a >Rebate Commisson <span class="text">{{walletData['init_currency']['symbol']}}{{currencyConverter(ref.rebate.generation_2.amount)|number:(ref.rebate.generation_2.amount < 0.01  && ref.rebate.generation_2.amount !==0 ? '1.4-4' : '1.2-2')}}</span></a></li>

                              <!-- <li><a >Refferral Commisson <span class="text">${{ref.referral.generation_2.amount|number:'1.1-1'}}</span></a></li> -->
                              <li><a >Deposited <span class="text">{{walletData['init_currency']['symbol']}}{{currencyConverter(ref.deposit.generation_2.amount)|number:'1.1-1'}}</span></a></li>
                              <li><a >withdrawn <span class="text">{{walletData['init_currency']['symbol']}}{{currencyConverter(ref.withdraw.generation_2.amount)|number:'1.1-1'}}</span></a></li>
                          </ul>
                          <span (click)="navigate('/promotions 2')" class="btn btn-outline-dark btn-sm text-primary">Show users <i class="fa fa-users"></i></span>

                      </div>
                    </div>
                    <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
                        <span class="text-warning text-center">You earn {{ref.settings.percent.rebate[2]}}% rebate bonus from members under level 3 (x6).</span>

                        <div class="ba-all-page-inner mb-4">
                            <ul>
                                <li><a >Total Users <span class="bg-btn">{{ref.total.generation_3}}</span></a></li>
                                <li><a >Active  <span class="bg-btn">{{ref.active.generation_3}}</span></a></li>
                                <li><a >Rebate Commisson <span class="text">{{walletData['init_currency']['symbol']}}{{currencyConverter(ref.rebate.generation_3.amount)|number:(ref.rebate.generation_3.amount < 0.01 && ref.rebate.generation_3.amount !==0 ? '1.4-4' : '1.2-2')}}</span></a></li>
                                <!-- <li><a >Refferral Commisson <span class="text">${{ref.referral.generation_3.amount|number:'1.1-1'}}</span></a></li> -->
                                <li><a >Deposited <span class="text">{{walletData['init_currency']['symbol']}}{{currencyConverter(ref.deposit.generation_3.amount)|number:'1.1-1'}}</span></a></li>
                                <li><a >withdrawn <span class="text">{{walletData['init_currency']['symbol']}}{{currencyConverter(ref.withdraw.generation_3.amount)|number:'1.1-1'}}</span></a></li>
                            </ul>
                            <span (click)="navigate('/promotions 3')" class="btn btn-outline-dark btn-sm text-primary">Show users <i class="fa fa-users"></i></span>

                        </div>
                    </div>
                  </div>
              </div>
          </div>
          <!-- End Tabs Dropdown -->
      </div>
    </div>
  </div>

  <!-- bottom menu -->
  <div class="main-footer-bottom d-block text-center">
      <ul>
          <li>
              <a [routerLink]="['/main']" [class.active]="current === 'main'">
                  <img src="assets/img/icon/svg/home.svg" alt="icon">
                  Home
              </a>
          </li>
          <!-- <li>
              <a href="sports.html">
                  <img src="assets/img/icon/svg/sports.svg" alt="img">
                  Sports
              </a>
          </li> -->
          <li>
              <a [class.active]="current === 'ticket'" class="menu-bar" [routerLink]="['/tickets']">
                  <img src="assets/img/icon/svg/ticket.svg" alt="img">
                  Tickets
              </a>
          </li>
          <li>
              <a [routerLink]="['/promotions']" [class.active]="current === 'promotions'">
                  <img src="assets/img/icon/svg/document.svg" alt="img">
                  <!-- <svg class="svg-inline--fa fa-users fa-w-20" aria-hidden="true" focusable="false" data-prefix="fa" data-icon="users" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" data-fa-i2svg=""><path fill="currentColor" d="M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"></path></svg> -->
                  Promotion
              </a>
          </li>
          <li>
              <a [routerLink]="['/profile']" [class.active]="current === 'profile'">
                  <img src="assets/img/icon/svg/profile.svg" alt="img">
                  Me
              </a>
          </li>
      </ul>
  </div>

  </div>
